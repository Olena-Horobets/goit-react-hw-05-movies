{"version":3,"sources":["utils/constants.js","services/serviceAPI.js","services/serviceSlugify.js","images/fallbackPhoto.jpg","components/MovieCard/MovieCard.js","components/MovieCard/MovieCard.module.css","pages/HomePage/HomePage.module.css","pages/HomePage/HomePage.js"],"names":["BASE_URL","KEY","IMG_URL","STATUS","IDLE","PENDING","RESOLVED","REJECTED","fetchWithErrorHandling","a","url","config","fetch","response","status","json","Promise","reject","Error","fetchPopular","period","fetchMovieByQuery","query","fetchMovieById","movieId","fetchMovieCast","fetchMovieReviews","getSlug","movie","slugify","title","name","id","lower","strict","parseSlug","slug","match","MovieCard","className","s","movieCard","movieTitle","boxEffect","movieImg","src","poster_path","fallbackPhoto","alt","module","exports","HomePage","location","useLocation","useState","movies","setMovies","searchPeriod","setSearchPeriod","useEffect","fetchMoviesAPI","then","data","results","catch","err","console","log","homeControls","htmlFor","labelCheked","label","input","type","value","checked","onChange","e","target","map","el","to","pathname","state","from","keyWord"],"mappings":"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","file":"static/js/home-page.0a96f778.chunk.js","sourcesContent":["export const BASE_URL = 'https://api.themoviedb.org/3/';\nexport const KEY = '6f7abc44fc4837d6e8737cb8523ac04e';\nexport const IMG_URL = 'https://image.tmdb.org/t/p/w342';\n\nexport const STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n","import { BASE_URL, KEY } from '../utils/constants';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n\n  return response.status === 200\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchPopular({ period }) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}trending/all/${period}?api_key=${KEY}`,\n  );\n}\n\nexport function fetchMovieByQuery({ query }) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${query}`,\n  );\n}\n\nexport function fetchMovieById({ movieId }) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}?api_key=${KEY}&language=en-US`,\n  );\n}\n\nexport function fetchMovieCast({ movieId }) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${KEY}&language=en-US`,\n  );\n}\n\nexport function fetchMovieReviews({ movieId }) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`,\n  );\n}\n","import slugify from 'slugify';\n\nexport const getSlug = movie => {\n  return slugify(`${movie.title || movie.name} ${movie.id}`, {\n    lower: true,\n    strict: true,\n  });\n};\n\nexport const parseSlug = slug => {\n  return slug.match(/[a-zA-Z0-9]+$/)[0];\n};\n","export default __webpack_public_path__ + \"static/media/fallbackPhoto.a42b9e03.jpg\";","import s from 'components/MovieCard/MovieCard.module.css';\nimport fallbackPhoto from '../../images/fallbackPhoto.jpg';\n\nimport { IMG_URL } from '../../utils/constants';\n\nfunction MovieCard({ movie }) {\n  return (\n    <div className={s.movieCard}>\n      <h3 className={s.movieTitle}>{movie.title || movie.name}</h3>\n      <div className={s.boxEffect}></div>\n      <img\n        className={s.movieImg}\n        src={\n          movie.poster_path\n            ? `${IMG_URL}${movie.poster_path}`\n            : `${fallbackPhoto}`\n        }\n        alt={movie.title}\n      ></img>\n    </div>\n  );\n}\n\nexport { MovieCard };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieCard\":\"MovieCard_movieCard__1pa4u\",\"movieTitle\":\"MovieCard_movieTitle__3mkN5\",\"boxEffect\":\"MovieCard_boxEffect__A8fsj\",\"movieImg\":\"MovieCard_movieImg__1jUOk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homeControls\":\"HomePage_homeControls__3mgyt\",\"label\":\"HomePage_label__3VWm3\",\"input\":\"HomePage_input__JOQJv\",\"labelCheked\":\"HomePage_labelCheked__38MQ6 HomePage_label__3VWm3\"};","import s from './HomePage.module.css';\n\nimport { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nimport * as fetchMoviesAPI from '../../services/serviceAPI';\nimport { getSlug } from '../../services/serviceSlugify';\n\nimport { MovieCard } from '../../components/MovieCard/MovieCard';\n\nfunction HomePage() {\n  const location = useLocation();\n  const [movies, setMovies] = useState([]);\n  const [searchPeriod, setSearchPeriod] = useState('day');\n\n  useEffect(() => {\n    fetchMoviesAPI\n      .fetchPopular({ period: searchPeriod })\n      .then(data => setMovies(data.results))\n      .catch(err => console.log(err));\n  }, [searchPeriod]);\n\n  return (\n    <>\n      <h2 className=\"title\">Popular movies</h2>\n      <div className={s.homeControls}>\n        <label\n          htmlFor=\"day\"\n          className={searchPeriod === 'day' ? s.labelCheked : s.label}\n        >\n          DAY\n        </label>\n        <input\n          id=\"day\"\n          className={s.input}\n          type=\"radio\"\n          value=\"day\"\n          checked={searchPeriod === 'day'}\n          onChange={e => {\n            setSearchPeriod(e.target.value);\n          }}\n        ></input>\n        <label\n          htmlFor=\"week\"\n          className={searchPeriod === 'week' ? s.labelCheked : s.label}\n        >\n          WEEK\n        </label>\n        <input\n          id=\"week\"\n          className={s.input}\n          type=\"radio\"\n          value=\"week\"\n          checked={searchPeriod === 'week'}\n          onChange={e => {\n            setSearchPeriod(e.target.value);\n          }}\n        ></input>\n      </div>\n\n      {movies && (\n        <ul className=\"gallery\">\n          {movies.map(el => (\n            <li className=\"galleryItem\" key={el.id}>\n              <Link\n                className=\"galleryLink\"\n                to={{\n                  pathname: `/movies/${getSlug(el)}`,\n                  state: { from: location, keyWord: 'home' },\n                }}\n              >\n                <MovieCard movie={el} />\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n\nexport default HomePage;\n"],"sourceRoot":""}