{"version":3,"sources":["pages/MoviesPage.js"],"names":["MoviesPage","url","useRouteMatch","useState","query","setQuery","movies","setMovies","useEffect","trim","length","fetchMoviesAPI","then","data","results","className","value","onChange","e","target","map","el","to","id","movie"],"mappings":"wMA8CeA,UAxCf,WACE,IAAQC,EAAQC,cAARD,IACR,EAA0BE,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KAaA,OAXAC,qBAAU,WACHJ,EAAMK,OAAOC,OAKlBC,IACqB,CAAEP,UACpBQ,MAAK,SAAAC,GAAI,OAAIN,EAAUM,EAAKC,YAN7BP,EAAU,MAOX,CAACH,IAGF,gCACE,oBAAIW,UAAU,QAAd,oBACA,uBACEC,MAAOZ,EACPa,SAAU,SAAAC,GACRb,EAASa,EAAEC,OAAOH,UAGrBV,GACC,6BACGA,EAAOc,KAAI,SAAAC,GAAE,OACZ,6BACE,cAAC,IAAD,CAAMC,GAAE,UAAKrB,EAAL,YAAYoB,EAAGE,IAAvB,SACE,cAAC,IAAD,CAAWC,MAAOH,OAFbA,EAAGE","file":"static/js/movies-page.b7145975.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport * as fetchMoviesAPI from '../services/serviceAPI';\n\nimport { MovieCard } from '../components/MovieCard/MovieCard';\n\nfunction MoviesPage() {\n  const { url } = useRouteMatch();\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    if (!query.trim().length) {\n      setMovies([]);\n      return;\n    }\n\n    fetchMoviesAPI\n      .fetchMovieByQuery({ query })\n      .then(data => setMovies(data.results));\n  }, [query]);\n\n  return (\n    <div>\n      <h2 className=\"title\">search</h2>\n      <input\n        value={query}\n        onChange={e => {\n          setQuery(e.target.value);\n        }}\n      ></input>\n      {movies && (\n        <ul>\n          {movies.map(el => (\n            <li key={el.id}>\n              <Link to={`${url}/${el.id}`}>\n                <MovieCard movie={el} />\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default MoviesPage;\n"],"sourceRoot":""}