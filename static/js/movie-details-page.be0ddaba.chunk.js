(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[3],{52:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r}));var c="https://api.themoviedb.org/3/",a="6f7abc44fc4837d6e8737cb8523ac04e",i="https://image.tmdb.org/t/p/w342",r={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},53:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return v}));var c=n(56),a=n.n(c),i=n(57),r=n(52);function s(){return o.apply(this,arguments)}function o(){return o=Object(i.a)(a.a.mark((function e(){var t,n,c,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=4,fetch(t,n);case 4:if(200!==(c=e.sent).status){e.next=11;break}return e.next=8,c.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function u(e){var t=e.period;return s("".concat(r.a,"trending/all/").concat(t,"?api_key=").concat(r.c))}function l(e){var t=e.query;return s("".concat(r.a,"search/movie?api_key=").concat(r.c,"&language=en-US&page=1&include_adult=false&query=").concat(t))}function d(e){var t=e.movieId;return s("".concat(r.a,"movie/").concat(t,"?api_key=").concat(r.c,"&language=en-US"))}function j(e){var t=e.movieId;return s("".concat(r.a,"movie/").concat(t,"/credits?api_key=").concat(r.c,"&language=en-US"))}function v(e){var t=e.movieId;return s("".concat(r.a,"movie/").concat(t,"/reviews?api_key=").concat(r.c,"&language=en-US&page=1"))}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var c=n(58),a=n.n(c),i=function(e){return a()("".concat(e.title||e.name," ").concat(e.id),{lower:!0,strict:!0})},r=function(e){return e.match(/[a-zA-Z0-9]+$/)[0]}},63:function(e,t,n){e.exports={movieCard:"MovieDetailsPage_movieCard__37NZ1",title:"MovieDetailsPage_title__3_KOW",btn:"MovieDetailsPage_btn__ogNFA",backBtn:"MovieDetailsPage_backBtn__1jgnQ MovieDetailsPage_btn__ogNFA",wrapper:"MovieDetailsPage_wrapper__25lPT",movieImage:"MovieDetailsPage_movieImage__117Jb",overview:"MovieDetailsPage_overview__pBMlV",genres:"MovieDetailsPage_genres__1d0TG",genresItem:"MovieDetailsPage_genresItem__2PnJL",additional:"MovieDetailsPage_additional__3imIk",castBtn:"MovieDetailsPage_castBtn__3Ymnf MovieDetailsPage_btn__ogNFA",reviewsBtn:"MovieDetailsPage_reviewsBtn__3kqM7 MovieDetailsPage_btn__ogNFA",activeBtn:"MovieDetailsPage_activeBtn__1lNpy"}},66:function(e,t,n){"use strict";n.r(t);var c=n(55),a=n(63),i=n.n(a),r=n(0),s=n(1),o=n(10),u=n(53),l=n(54),d=n(52),j=n(2);var v=function(){var e=Object(s.i)().slug,t=Object(l.b)(e),n=Object(r.useState)([]),a=Object(c.a)(n,2),i=a[0],o=a[1];return Object(r.useEffect)((function(){Object(u.c)({movieId:t}).then((function(e){return o(e.cast)})).catch((function(e){return console.log(e)}))}),[t]),Object(j.jsxs)("div",{className:"movieCard",children:[Object(j.jsx)("h3",{children:"CAST"}),i&&Object(j.jsx)("ul",{children:i.map((function(e){return Object(j.jsx)("li",{children:e.name},e.id)}))})]})};var b=function(){var e=Object(s.i)().slug,t=Object(l.b)(e),n=Object(r.useState)([]),a=Object(c.a)(n,2),i=a[0],o=a[1];return Object(r.useEffect)((function(){Object(u.d)({movieId:t}).then((function(e){return o(e.results)})).catch((function(e){return console.log(e)}))}),[t]),Object(j.jsxs)("div",{className:"movieCard",children:[Object(j.jsx)("h3",{children:"Reviews"}),i&&i.length?Object(j.jsx)("ul",{children:i.map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsx)("h4",{children:e.author}),Object(j.jsx)("p",{children:e.content})]},e.id)}))}):Object(j.jsx)("p",{children:"no reviews"})]})};t.default=function(){var e,t=Object(s.h)(),n=Object(s.g)(),a=null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.from,m=Object(s.j)(),h=m.url,g=m.path,f=Object(s.i)().slug,O=Object(l.b)(f),_=Object(r.useState)(d.d.IDLE),p=Object(c.a)(_,2),x=p[0],E=p[1],D=Object(r.useState)({}),N=Object(c.a)(D,2),w=N[0],I=N[1];return Object(r.useEffect)((function(){Object(u.a)({movieId:O}).then((function(e){return I(e)}),E(d.d.RESOLVED)).catch((function(e){return E(d.d.REJECTED)}))}),[O]),console.log(w),x===d.d.RESOLVED?Object(j.jsxs)("div",{className:i.a.movieCard,children:[a&&Object(j.jsx)("button",{className:i.a.backBtn,type:"button",onClick:function(e){n.push(a)},children:"back to ".concat(t.state.keyWord)}),Object(j.jsxs)("h2",{className:i.a.title,children:["MOVIE TITLE: ",w.title]}),Object(j.jsxs)("div",{className:i.a.wrapper,children:[Object(j.jsx)("img",{className:i.a.movieImage,src:w.poster_path?"".concat(d.b).concat(w.poster_path):"../../images/fallback-photo.jpg",alt:w.title}),Object(j.jsxs)("div",{className:i.a.overview,children:[Object(j.jsx)("p",{children:w.overview}),w.genres&&Object(j.jsx)("ul",{className:i.a.genres,children:w.genres.map((function(e){return Object(j.jsx)("li",{className:i.a.genresItem,children:e.name},e.name)}))})]}),Object(j.jsxs)("div",{className:i.a.additional,children:[Object(j.jsx)(o.c,{to:{pathname:"".concat(h,"/cast"),state:{from:a}},className:i.a.castBtn,activeClassName:i.a.activeBtn,children:"CAST"}),Object(j.jsx)(o.c,{to:{pathname:"".concat(h,"/reviews"),state:{from:a}},className:i.a.reviewsBtn,activeClassName:i.a.activeBtn,children:"REVIEWS"}),Object(j.jsxs)(s.d,{children:[Object(j.jsx)(s.b,{path:"".concat(g,"/cast"),children:w&&Object(j.jsx)(v,{})}),Object(j.jsx)(s.b,{path:"".concat(g,"/reviews"),children:w&&Object(j.jsx)(b,{})})]})]})]})]}):x===d.d.IDLE?Object(j.jsx)("p",{children:"enter something"}):x===d.d.REJECTED?Object(j.jsx)("div",{className:"errorImage"}):void 0}}}]);
//# sourceMappingURL=movie-details-page.be0ddaba.chunk.js.map